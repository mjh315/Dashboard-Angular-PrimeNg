<div class="card p-5 bg-white rounded-lg mb-5!" dir="rtl">
    <div class="flex flex-col justify-between items-start mb-4 border-b pb-4">
        <!-- <div class="font-bold text-2xl text-gray-800">فعالیت‌های اخیر</div> -->
        <div class="font-semibold text-xl">فعالیت‌های اخیر</div>

    </div>

    <div *ngIf="loading" class="animate-pulse space-y-4">
        <div class="h-8 bg-gray-200 rounded"></div>
        <div class="h-8 bg-gray-200 rounded w-5/6"></div>
    </div>

    <div *ngIf="error && !loading" class="text-center text-red-500 py-4">
        <p>خطا در دریافت اطلاعات. لطفاً مجدداً تلاش کنید.</p>
    </div>

    <div *ngIf="!loading && !error" class="tab-view">

        <div class="flex border-b border-gray-200 overflow-x-auto">
            <button *ngFor="let tab of activityTabs; let i = index"
                class="px-4 py-2 text-sm font-medium transition-colors duration-200 whitespace-nowrap" [ngClass]="{
                    'text-blue-600 border-b-2 border-blue-600': selectedTabIndex === i,
                    'text-gray-500 hover:text-gray-700': selectedTabIndex !== i
                }" (click)="selectedTabIndex = i">
                {{ tab.title }}
                <span class="rtl:mr-1 ltr:ml-1 text-xs font-normal px-2 py-0.5 rounded-full"
                    [ngClass]="tab.data.length > 0 ? 'bg-blue-500 text-white' : 'bg-gray-200 text-gray-500'">
                    {{ tab.data.length }}
                </span>
            </button>
        </div>

        <div class="pt-4">
            <div *ngFor="let tab of activityTabs; let i = index" [hidden]="selectedTabIndex !== i">

                <div *ngIf="tab.data.length === 0" class="text-center py-8 text-gray-500 bg-gray-50 rounded-lg">
                    <p>فعالیتی در بخش **{{ tab.title }}** ثبت نشده است.</p>
                </div>

                <ul *ngIf="tab.data.length > 0" class="divide-y divide-gray-100">
                    <li *ngFor="let item of tab.data" class="flex items-center py-3">
                        <span class="px-3 py-1 text-xs font-semibold rounded-full rtl:ml-3 ltr:mr-3"
                            [ngClass]="getTypeClass(item.type)">
                            {{ item.type }}
                        </span>
                        <span class="text-gray-700 text-sm">{{ item.message }}</span>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</div>